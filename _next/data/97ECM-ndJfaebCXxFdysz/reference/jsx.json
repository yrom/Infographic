{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#basic-usage\",\"depth\":2,\"text\":\"基础用法 \"},{\"url\":\"#core-modules\",\"depth\":2,\"text\":\"核心模块 \"},{\"url\":\"#jsx-runtime\",\"depth\":3,\"text\":\"JSX 运行时 \"},{\"url\":\"#renderer\",\"depth\":3,\"text\":\"渲染器 \"},{\"url\":\"#layout\",\"depth\":3,\"text\":\"布局 \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"p\",null,{\"children\":\"AntV Infographic 提供了一个轻量化的 JSX 渲染引擎，支持通过 JSX 语法描述图形元素，并渲染为 SVG。\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"basic-usage\",\"children\":\"基础用法 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"在编写 AntV Infographic JSX 前，你需要在文件头部引入 \",[\"$r\",\"code\",null,{\"children\":\"/** @jsxImportSource @antv/infographic */\"}],\" 指令，以启用 JSX 转换功能：\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"下面的示例中通过 JSX 语法创建了一个包含矩形和文本的简单节点组件 \",[\"$r\",\"code\",null,{\"children\":\"Node\"}],\"，并使用 \",[\"$r\",\"a\",null,{\"href\":\"/reference/jsx-utils#render-svg\",\"children\":\"renderSVG\"}],\" 方法将其渲染为 SVG 字符串。\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"/** @jsxImportSource @antv/infographic */\\n\\nimport {renderSVG, Rect, Text, Group} from '@antv/infographic';\\n\\nconst Node = () => (\\n  <Group>\\n    <Rect width={100} height={50} fill=\\\"blue\\\" />\\n    <Text x={10} y={30} fill=\\\"white\\\">\\n      Hello World\\n    </Text>\\n  </Group>\\n);\\n\\nconst svgString = renderSVG(<Node />);\\nconsole.log(svgString);\\n\"}]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"core-modules\",\"children\":\"核心模块 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"jsx-runtime\",\"children\":\"JSX 运行时 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"实现 JSX 转换函数：\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// jsx-runtime.ts\\nexport function jsx(type, props, key) { /* ... */ }\\nexport function jsxs(type, props, key) { /* ... */ }\\nexport function jsxDEV(type, props, key, ...) { /* ... */ }\\nexport const Fragment: unique symbol;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"功能\"}],\"：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsx()\"}],\"：创建单个 JSX 元素\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsxs()\"}],\"：创建静态 JSX 元素（编译优化）\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsxDEV()\"}],\"：开发模式（包含更多调试信息）\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"Fragment\"}],\"：片段支持 \",[\"$r\",\"code\",null,{\"children\":\"<>...</>\"}]]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"renderer\",\"children\":\"渲染器 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"两阶段渲染管线：\"}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"1-处理阶段-processelement\",\"children\":[\"1. 处理阶段 (\",[\"$r\",\"code\",null,{\"children\":\"processElement\"}],\") \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"将 JSX 元素树转换为可渲染的元素树：\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"function processElement(\\n  element: JSXElement,\\n  context: RenderContext\\n): ProcessedElement;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"主要工作\"}],\"：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"展开函数组件（递归调用函数）\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"处理 Fragment（扁平化子元素）\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"执行布局计算（调用 layout 函数）\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"收集边界信息\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"生成渲染树\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"示例\"}],\"：\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"// 输入 JSX\\n<MyComponent>\\n  <Rect width={100} height={50} />\\n</MyComponent>\\n\\n// 处理后\\n{\\n  type: 'Group',\\n  props: { ... },\\n  children: [\\n    { type: 'Rect', props: { width: 100, height: 50 }, children: [] }\\n  ]\\n}\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"2-渲染阶段-render\",\"children\":[\"2. 渲染阶段 (\",[\"$r\",\"code\",null,{\"children\":\"render\"}],\") \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"将处理后的元素树转换为 SVG 字符串：\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"function render(element: ProcessedElement, context: RenderContext): string;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"主要工作\"}],\"：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"根据元素类型生成对应的 SVG 标签\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"应用属性和样式\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"递归渲染子元素\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"自动计算 viewBox\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"优化输出（去除冗余属性等）\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"示例\"}],\"：\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"// 输入处理后的元素\\n{ type: 'Rect', props: { width: 100, height: 50, fill: 'blue' } }\\n\\n// 输出 SVG\\n<rect width=\\\"100\\\" height=\\\"50\\\" fill=\\\"blue\\\" />\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"layout\",\"children\":\"布局 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"提供 \",[\"$r\",\"a\",null,{\"href\":\"/reference/create-layout\",\"children\":\"createLayout\"}],\" 函数创建自定义布局组件。\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"基本原理\",\"children\":\"基本原理 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"布局组件是特殊的函数组件，使用 Symbol 标记：\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"const LAYOUT_SYMBOL = Symbol('layout');\\n\\nexport function createLayout<T>(fn: LayoutFunction<T>): LayoutComponent<T> {\\n  const component = (props) => fn(props);\\n  component[LAYOUT_SYMBOL] = true;\\n  return component;\\n}\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"创建布局\",\"children\":\"创建布局 \"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"import {createLayout, getElementBounds} from '@antv/infographic-jsx';\\n\\n// 创建垂直堆叠布局\\nconst VerticalLayout = createLayout<{gap: number}>(({children, gap = 10}) => {\\n  let currentY = 0;\\n\\n  return children.map((child) => {\\n    const bounds = getElementBounds(child);\\n    const positioned = {\\n      ...child,\\n      props: {...child.props, y: currentY},\\n    };\\n    currentY += bounds.height + gap;\\n    return positioned;\\n  });\\n});\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"使用布局\",\"children\":\"使用布局 \"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"<VerticalLayout gap={20}>\\n  <Rect width={100} height={50} />\\n  <Rect width={100} height={50} />\\n  <Rect width={100} height={50} />\\n</VerticalLayout>\\n\\n// 渲染结果：三个矩形垂直排列，间距 20\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"布局执行流程\",\"children\":\"布局执行流程 \"}],\"\\n\",[\"$r\",\"ol\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"渲染器识别\"}],\"：检测到 layout symbol\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"收集 children\"}],\"：获取所有子元素\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"调用布局函数\"}],\"：传入 children 和 props\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"获取新 children\"}],\"：布局函数返回调整位置后的 children\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"继续渲染\"}],\"：渲染新的 children 数组\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"布局函数可以修改 children 的位置、尺寸等属性\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"使用 \",[\"$r\",\"code\",null,{\"children\":\"getElementBounds\"}],\" 获取子元素的边界信息\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"支持嵌套布局\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"布局是在处理阶段执行的\"}],\"\\n\"]}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"复杂布局示例\",\"children\":\"复杂布局示例 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"参考 \",[\"$r\",\"code\",null,{\"children\":\"packages/infographic/src/designs/layouts/Align.tsx\"}],\"：\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"export const AlignLayout = createLayout<{\\n  horizontal?: 'left' | 'center' | 'right';\\n  vertical?: 'top' | 'center' | 'bottom';\\n  width?: number;\\n  height?: number;\\n}>(({children, horizontal, vertical, width, height}) => {\\n  const bounds = getElementsBounds(children);\\n  const containerWidth = width ?? bounds.width;\\n  const containerHeight = height ?? bounds.height;\\n\\n  return children.map((child) => {\\n    const childBounds = getElementBounds(child);\\n    let x = child.props.x ?? 0;\\n    let y = child.props.y ?? 0;\\n\\n    // 水平对齐\\n    if (horizontal === 'center') {\\n      x = (containerWidth - childBounds.width) / 2;\\n    } else if (horizontal === 'right') {\\n      x = containerWidth - childBounds.width;\\n    }\\n\\n    // 垂直对齐\\n    if (vertical === 'center') {\\n      y = (containerHeight - childBounds.height) / 2;\\n    } else if (vertical === 'bottom') {\\n      y = containerHeight - childBounds.height;\\n    }\\n\\n    return {...child, props: {...child.props, x, y}};\\n  });\\n});\\n\"}]}]]}]]","meta":{"title":"JSX"},"languages":null,"tocEn":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#basic-usage\",\"depth\":2,\"text\":\"Basic Usage \"},{\"url\":\"#core-modules\",\"depth\":2,\"text\":\"Core Modules \"},{\"url\":\"#jsx-runtime\",\"depth\":3,\"text\":\"JSX Runtime \"},{\"url\":\"#renderer\",\"depth\":3,\"text\":\"Renderer \"},{\"url\":\"#layout\",\"depth\":3,\"text\":\"Layout \"}]","contentEn":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"p\",null,{\"children\":\"AntV Infographic ships with a lightweight JSX rendering engine that lets you describe graphical elements using JSX and render them as SVG.\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"basic-usage\",\"children\":\"Basic Usage \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"At the top of your file, add the pragma \",[\"$r\",\"code\",null,{\"children\":\"/** @jsxImportSource @antv/infographic */\"}],\" to enable the JSX transform.\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"The snippet below defines a simple \",[\"$r\",\"code\",null,{\"children\":\"Node\"}],\" component with a rectangle and text, then uses \",[\"$r\",\"a\",null,{\"href\":\"/reference/jsx-utils#render-svg\",\"children\":\"renderSVG\"}],\" to convert it into an SVG string.\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"/** @jsxImportSource @antv/infographic */\\n\\nimport {renderSVG, Rect, Text, Group} from '@antv/infographic';\\n\\nconst Node = () => (\\n  <Group>\\n    <Rect width={100} height={50} fill=\\\"blue\\\" />\\n    <Text x={10} y={30} fill=\\\"white\\\">\\n      Hello World\\n    </Text>\\n  </Group>\\n);\\n\\nconst svgString = renderSVG(<Node />);\\nconsole.log(svgString);\\n\"}]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"core-modules\",\"children\":\"Core Modules \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"jsx-runtime\",\"children\":\"JSX Runtime \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"The runtime exposes the functions used by the JSX compiler.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// jsx-runtime.ts\\nexport function jsx(type, props, key) { /* ... */ }\\nexport function jsxs(type, props, key) { /* ... */ }\\nexport function jsxDEV(type, props, key, ...) { /* ... */ }\\nexport const Fragment: unique symbol;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Features:\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsx()\"}],\": Create a single JSX element.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsxs()\"}],\": Create statically known JSX elements for compiler optimization.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"jsxDEV()\"}],\": Development mode with extra debug metadata.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"Fragment\"}],\": Supports fragments (\",[\"$r\",\"code\",null,{\"children\":\"<>...</>\"}],\").\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"renderer\",\"children\":\"Renderer \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Rendering pipeline has two stages:\"}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"1-处理阶段-processelement\",\"children\":[\"1. Processing Stage (\",[\"$r\",\"code\",null,{\"children\":\"processElement\"}],\") \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Convert the JSX tree into a renderable element tree.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"function processElement(\\n  element: JSXElement,\\n  context: RenderContext\\n): ProcessedElement;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Responsibilities:\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Expand function components recursively.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Handle fragments by flattening children.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Execute layout functions (those created via \",[\"$r\",\"code\",null,{\"children\":\"createLayout\"}],\").\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Collect bounds information.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Produce the final render tree.\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Example:\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"// Input JSX\\n<MyComponent>\\n  <Rect width={100} height={50} />\\n</MyComponent>\\n\\n// Processed output\\n{\\n  type: 'Group',\\n  props: { ... },\\n  children: [\\n    { type: 'Rect', props: { width: 100, height: 50 }, children: [] }\\n  ]\\n}\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"2-渲染阶段-render\",\"children\":[\"2. Rendering Stage (\",[\"$r\",\"code\",null,{\"children\":\"render\"}],\") \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Convert the processed tree into an SVG string.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"function render(element: ProcessedElement, context: RenderContext): string;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Tasks:\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Generate SVG tags based on element types.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Apply attributes and styles.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Recursively render child elements.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Auto-compute the \",[\"$r\",\"code\",null,{\"children\":\"viewBox\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Optimize output (e.g., drop redundant attributes).\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Example:\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"// Processed element\\n{ type: 'Rect', props: { width: 100, height: 50, fill: 'blue' } }\\n\\n// Rendered SVG\\n<rect width=\\\"100\\\" height=\\\"50\\\" fill=\\\"blue\\\" />\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"layout\",\"children\":\"Layout \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Use \",[\"$r\",\"a\",null,{\"href\":\"/reference/create-layout\",\"children\":\"createLayout\"}],\" to build custom layout components.\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"基本原理\",\"children\":\"Basics \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Layout components are special function components marked by a symbol:\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"const LAYOUT_SYMBOL = Symbol('layout');\\n\\nexport function createLayout<T>(fn: LayoutFunction<T>): LayoutComponent<T> {\\n  const component = (props) => fn(props);\\n  component[LAYOUT_SYMBOL] = true;\\n  return component;\\n}\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"创建布局\",\"children\":\"Creating a Layout \"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"import {createLayout, getElementBounds} from '@antv/infographic-jsx';\\n\\nconst VerticalLayout = createLayout<{gap: number}>(({children, gap = 10}) => {\\n  let currentY = 0;\\n\\n  return children.map((child) => {\\n    const bounds = getElementBounds(child);\\n    const positioned = {\\n      ...child,\\n      props: {...child.props, y: currentY},\\n    };\\n    currentY += bounds.height + gap;\\n    return positioned;\\n  });\\n});\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"使用布局\",\"children\":\"Using Layouts \"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"<VerticalLayout gap={20}>\\n  <Rect width={100} height={50} />\\n  <Rect width={100} height={50} />\\n  <Rect width={100} height={50} />\\n</VerticalLayout>\\n\\n// Result: Three rectangles stacked vertically with 20px spacing\\n\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"布局执行流程\",\"children\":\"Layout Execution Flow \"}],\"\\n\",[\"$r\",\"ol\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Renderer detects the layout symbol.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Collects children.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Executes the layout function with \",[\"$r\",\"code\",null,{\"children\":\"children\"}],\" and props.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Receives the position-adjusted children.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Continues rendering the new array.\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Layout functions can modify positions, sizes, etc.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Use \",[\"$r\",\"code\",null,{\"children\":\"getElementBounds\"}],\" to measure children.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Nested layouts are supported.\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Layout runs during the processing stage.\"}],\"\\n\"]}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"复杂布局示例\",\"children\":\"Advanced Layout Example \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Refer to \",[\"$r\",\"code\",null,{\"children\":\"packages/infographic/src/designs/layouts/Align.tsx\"}],\":\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-tsx\",\"children\":\"export const AlignLayout = createLayout<{\\n  horizontal?: 'left' | 'center' | 'right';\\n  vertical?: 'top' | 'center' | 'bottom';\\n  width?: number;\\n  height?: number;\\n}>(({children, horizontal, vertical, width, height}) => {\\n  const bounds = getElementsBounds(children);\\n  const containerWidth = width ?? bounds.width;\\n  const containerHeight = height ?? bounds.height;\\n\\n  return children.map((child) => {\\n    const childBounds = getElementBounds(child);\\n    let x = child.props.x ?? 0;\\n    let y = child.props.y ?? 0;\\n\\n    if (horizontal === 'center') {\\n      x = (containerWidth - childBounds.width) / 2;\\n    } else if (horizontal === 'right') {\\n      x = containerWidth - childBounds.width;\\n    }\\n\\n    if (vertical === 'center') {\\n      y = (containerHeight - childBounds.height) / 2;\\n    } else if (vertical === 'bottom') {\\n      y = containerHeight - childBounds.height;\\n    }\\n\\n    return {...child, props: {...child.props, x, y}};\\n  });\\n});\\n\"}]}]]}]]","metaEn":{"title":"JSX"}},"__N_SSG":true}