{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#create-infographic\",\"depth\":2,\"text\":\"创建信息图实例 \"},{\"url\":\"#instance-methods\",\"depth\":2,\"text\":\"实例方法 \"},{\"url\":\"#getoptions\",\"depth\":3,\"text\":\"getOptions \"},{\"url\":\"#render\",\"depth\":3,\"text\":\"render \"},{\"url\":\"#update\",\"depth\":3,\"text\":\"update \"},{\"url\":\"#compose\",\"depth\":3,\"text\":\"compose \"},{\"url\":\"#gettypes\",\"depth\":3,\"text\":\"getTypes \"},{\"url\":\"#todataurl\",\"depth\":3,\"text\":\"toDataURL \"},{\"url\":\"#on\",\"depth\":3,\"text\":\"on / off \"},{\"url\":\"#destroy\",\"depth\":3,\"text\":\"destroy \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"p\",null,{\"children\":[\"AntV Infographic 的 API 由 \",[\"$r\",\"code\",null,{\"children\":\"Infographic\"}],\" 类统一对外暴露，用户可以通过该类创建信息图实例，并进行渲染和导出等操作。\"]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"create-infographic\",\"children\":\"创建信息图实例 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"要创建信息图实例，首先需要导入 \",[\"$r\",\"code\",null,{\"children\":\"Infographic\"}],\" 类，然后通过 \",[\"$r\",\"code\",null,{\"children\":\"new\"}],\" 关键字进行实例化，其构造函数签名为：\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-ts\",\"children\":\"constructor (options: string | Partial<InfographicOptions>): Infographic;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"其中，\",[\"$r\",\"code\",null,{\"children\":\"options\"}],\" 可以是两种形式：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"信息图语法字符串\"}],\"：参见\",[\"$r\",\"a\",null,{\"href\":\"/learn/infographic-syntax\",\"children\":\"信息图语法\"}],\"，适合让 AI 或流式输出直接驱动渲染。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":[\"（部分）\",[\"$r\",\"code\",null,{\"children\":\"InfographicOptions\"}],\" 对象\"]}],\"：按照\",[\"$r\",\"a\",null,{\"href\":\"/reference/infographic-options\",\"children\":\"配置项\"}],\"构造的 JSON。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"instance-methods\",\"children\":\"实例方法 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"getoptions\",\"children\":\"getOptions \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"获取实例当前持有的配置信息，便于调试或二次加工。对于信息图语法，会返回解析后的配置对象。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"getOptions(): Partial<InfographicOptions>\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"render\",\"children\":\"render \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"根据配置信息或语法字符串渲染信息图。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"render(options?: string | Partial<InfographicOptions>): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"示例：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"import {Infographic} from '@antv/infographic';\\n\\nconst infographic = new Infographic({\\n  // 信息图配置\\n});\\n\\nconst syntax = `\\ninfographic <template-name>\\ndata\\n  title 标题\\n  items\\n    - label 标签1\\n    - label 标签2\\n`;\\n\\n// 直接渲染信息图语法\\ninfographic.render(syntax);\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"update\",\"children\":\"update \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"在现有配置的基础上进行增量更新。\",[\"$r\",\"code\",null,{\"children\":\"update()\"}],\" 会将传入的语法或配置与当前实例中的 \",[\"$r\",\"code\",null,{\"children\":\"options\"}],\" 进行合并，适用于只修改部分字段的场景。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"update(options: string | Partial<InfographicOptions>): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"示例：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// 更新主题，同时保留之前的配置\\ninfographic.update({\\n  theme: 'dark',\\n});\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"compose\",\"children\":\"compose \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"创建未渲染的信息图模板，以供后续渲染使用。通常不需要手动调用；\",[\"$r\",\"code\",null,{\"children\":\"render()\"}],\" 会自动执行这一步。但如果你打算自己接管渲染流程，可以显式传入 \",[\"$r\",\"code\",null,{\"children\":\"ParsedInfographicOptions\"}],\"（可由语法字符串解析后再通过 \",[\"$r\",\"code\",null,{\"children\":\"parseOptions\"}],\" 获取）。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"compose(parsedOptions: ParsedInfographicOptions): SVGSVGElement\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"gettypes\",\"children\":\"getTypes \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"获取当前信息图所需数据的 TS 类型定义，便于通过大模型等工具生成符合要求的数据。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"getTypes(): string\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"todataurl\",\"children\":\"toDataURL \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"导出信息图的图片数据，返回 Data URL 字符串。需要在浏览器环境且在 \",[\"$r\",\"code\",null,{\"children\":\"render()\"}],\" 之后调用。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"toDataURL(options?: ExportOptions): Promise<string>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"options\"}],\"（见 \",[\"$r\",\"a\",null,{\"href\":\"/reference/infographic-types#export-options\",\"children\":\"ExportOptions\"}],\"）支持 \",[\"$r\",\"code\",null,{\"children\":\"{type: 'svg'; embedResources?: boolean; removeIds?: boolean}\"}],\" 或 \",[\"$r\",\"code\",null,{\"children\":\"{type: 'png'; dpr?: number}\"}],\"，不传时默认导出 PNG。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"示例：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"const url = await infographic.toDataURL({type: 'svg', embedResources: true});\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"on\",\"children\":\"on / off \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"注册或移除事件监听器。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"on(event: string, listener: (...args: any[]) => void): void\\noff(event: string, listener: (...args: any[]) => void): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"内置事件包括：\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"warning\"}],\"：解析语法字符串时出现的非致命警告，携带 \",[\"$r\",\"code\",null,{\"children\":\"SyntaxError[]\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"error\"}],\"：解析或渲染失败时触发，可能是 \",[\"$r\",\"code\",null,{\"children\":\"SyntaxError[]\"}],\" 或 \",[\"$r\",\"code\",null,{\"children\":\"Error\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"rendered\"}],\"：完成渲染后触发，携带 \",[\"$r\",\"code\",null,{\"children\":\"{node, options}\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"destroyed\"}],\"：调用 \",[\"$r\",\"code\",null,{\"children\":\"destroy()\"}],\" 后触发。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"destroy\",\"children\":\"destroy \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"销毁实例，移除渲染结果并清理事件与编辑器状态。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"类型签名：\"}]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"destroy(): void\\n\"}]}]]}]]","meta":{"title":"Infographic API"},"languages":null,"tocEn":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#create-infographic\",\"depth\":2,\"text\":\"Create an Infographic \"},{\"url\":\"#instance-methods\",\"depth\":2,\"text\":\"Instance Methods \"},{\"url\":\"#getoptions\",\"depth\":3,\"text\":\"getOptions \"},{\"url\":\"#render\",\"depth\":3,\"text\":\"render \"},{\"url\":\"#update\",\"depth\":3,\"text\":\"update \"},{\"url\":\"#compose\",\"depth\":3,\"text\":\"compose \"},{\"url\":\"#gettypes\",\"depth\":3,\"text\":\"getTypes \"},{\"url\":\"#todataurl\",\"depth\":3,\"text\":\"toDataURL \"},{\"url\":\"#on\",\"depth\":3,\"text\":\"on / off \"},{\"url\":\"#destroy\",\"depth\":3,\"text\":\"destroy \"}]","contentEn":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"p\",null,{\"children\":[\"The AntV Infographic API is exposed through the \",[\"$r\",\"code\",null,{\"children\":\"Infographic\"}],\" class. You can create an instance to render, export, and manipulate infographics.\"]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"create-infographic\",\"children\":\"Create an Infographic \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Import \",[\"$r\",\"code\",null,{\"children\":\"Infographic\"}],\" and instantiate it with the following constructor:\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-ts\",\"children\":\"constructor (options: string | Partial<InfographicOptions>): Infographic;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"options\"}],\" supports two forms:\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"Infographic syntax string\"}],\" – see \",[\"$r\",\"a\",null,{\"href\":\"/learn/infographic-syntax\",\"children\":\"Infographic Syntax\"}],\". Suitable for AI or streaming-based rendering.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":[\"(Partial) \",[\"$r\",\"code\",null,{\"children\":\"InfographicOptions\"}],\" object\"]}],\" – a JSON that follows the \",[\"$r\",\"a\",null,{\"href\":\"/reference/infographic-options\",\"children\":\"configuration reference\"}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"instance-methods\",\"children\":\"Instance Methods \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"getoptions\",\"children\":\"getOptions \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Return the current configuration held by the instance, which helps with debugging or secondary processing. When initialized with syntax, it returns the parsed config object.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"getOptions(): Partial<InfographicOptions>\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"render\",\"children\":\"render \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Render the infographic with either syntax or a partial configuration.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"render(options?: string | Partial<InfographicOptions>): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"Example\"}],\":\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"import {Infographic} from '@antv/infographic';\\n\\nconst infographic = new Infographic({\\n  // configuration\\n});\\n\\nconst syntax = `\\ninfographic <template-name>\\ndata\\n  title Title\\n  items\\n    - label Item 1\\n    - label Item 2\\n`;\\n\\ninfographic.render(syntax);\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"update\",\"children\":\"update \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Merge new syntax or options into the current configuration. Useful when you only need to change part of the state.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"update(options: string | Partial<InfographicOptions>): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"Example\"}],\":\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"infographic.update({\\n  theme: 'dark',\\n});\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"compose\",\"children\":\"compose \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Create a pre-rendered template from parsed infographic options. Usually \",[\"$r\",\"code\",null,{\"children\":\"render()\"}],\" handles this step, but you can call it directly when you manage the rendering pipeline yourself. Pass the \",[\"$r\",\"code\",null,{\"children\":\"ParsedInfographicOptions\"}],\" parsed from syntax via \",[\"$r\",\"code\",null,{\"children\":\"parseOptions\"}],\".\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"compose(parsedOptions: ParsedInfographicOptions): SVGSVGElement\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"gettypes\",\"children\":\"getTypes \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Generate the TypeScript type definitions required for the current infographic, which is handy when feeding large models with structured data.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"getTypes(): string\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"todataurl\",\"children\":\"toDataURL \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Export the infographic as an image and receive a \",[\"$r\",\"code\",null,{\"children\":\"data:\"}],\" URL string. This method must be called in the browser after rendering.\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"toDataURL(options?: ExportOptions): Promise<string>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"options\"}],\" (see \",[\"$r\",\"a\",null,{\"href\":\"/reference/infographic-types#export-options\",\"children\":\"ExportOptions\"}],\") accepts \",[\"$r\",\"code\",null,{\"children\":\"{type: 'svg'; embedResources?: boolean; removeIds?: boolean}\"}],\" or \",[\"$r\",\"code\",null,{\"children\":\"{type: 'png'; dpr?: number}\"}],\". Defaults to PNG when omitted.\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"Example\"}],\":\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"const url = await infographic.toDataURL({type: 'svg', embedResources: true});\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"on\",\"children\":\"on / off \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Register or remove event listeners.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"on(event: string, listener: (...args: any[]) => void): void\\noff(event: string, listener: (...args: any[]) => void): void\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Built-in events:\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"warning\"}],\": Non-fatal warnings emitted during syntax parsing. Payload is \",[\"$r\",\"code\",null,{\"children\":\"SyntaxError[]\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"error\"}],\": Emitted when parsing or rendering fails. May carry \",[\"$r\",\"code\",null,{\"children\":\"SyntaxError[]\"}],\" or \",[\"$r\",\"code\",null,{\"children\":\"Error\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"rendered\"}],\": Fired after rendering completes, payload \",[\"$r\",\"code\",null,{\"children\":\"{node, options}\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"destroyed\"}],\": Fired after calling \",[\"$r\",\"code\",null,{\"children\":\"destroy()\"}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"destroy\",\"children\":\"destroy \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Destroy the instance, clear rendered output, and clean up event listeners and editor state.\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"destroy(): void\\n\"}]}]]}]]","metaEn":{"title":"Infographic API"}},"__N_SSG":true}