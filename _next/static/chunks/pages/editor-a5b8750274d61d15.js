(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{3916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var l=r(7876),n=r(7964),a=r(5035),o=r(6805),i=r(5922),s=r(2129),c=r(9099),d=r(4232);let u="infographic ".concat("list-row-simple-horizontal-arrow","\ndata\n  items\n    - label 步骤 1\n      desc 开始\n      icon mdi/lightbulb-on\n    - label 步骤 2\n      desc 规划\n      icon mdi/clipboard-text-outline\n    - label 步骤 3\n      desc 执行\n      icon mdi/rocket-launch-outline\n    - label 步骤 4\n      desc 检查\n      icon mdi/checklist\n    - label 步骤 5\n      desc 完成\n      icon mdi/check-circle");var m=r(456),h=r(1852),p=r(4765),f=r(9476);let x=(0,d.memo)(function(e){let t,r,a=(0,n.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}),a[0]=t):t=a[0],a[1]!==e?(r=(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.33em",height:"1.33em",viewBox:"0 -2 24 24",fill:"currentColor",...e,children:t}),a[1]=e,a[2]=r):r=a[2],r});var b=r(5241),g=r(2155);let v=e=>{var t,r;return null!=(r=null==(t=e.match(/^\s*/))?void 0:t[0].length)?r:0},k=e=>{for(let r=0;r<e.length;r+=1){let l=e[r].trim();if(l.startsWith("palette ")||"palette"===l){var t;let n=(null==(t=e[r].match(/^\s*/))?void 0:t[0])||"";if("palette"===l){let t=v(e[r]),l=[],a=r+1;for(;a<e.length;a+=1){let r=e[a],n=r.trim(),o=v(r);if(n&&o<=t)break;n.startsWith("-")&&l.push(n.slice(1).trim())}return{lineIndex:r,blockEnd:a,indent:n,value:l.join(" ")}}return{lineIndex:r,blockEnd:r+1,indent:n,value:l.slice(8).trim()}}}return null},w=e=>{let t=0;for(let r=0;r<e.length;r+=1){let l=e[r].trim();if(l){if(l.startsWith("infographic ")||l.startsWith("template ")){t=r+1;continue}if(l.startsWith("data"))break}}return t},y="live-editor-category-data",j=new Map(p.Q.map(e=>{let{template:t,syntax:r}=e;return[t,r]})),N={timeline:"list-column-simple-vertical-arrow",hierarchy:"hierarchy-tree-tech-style-capsule-item",compare:"compare-binary-horizontal-simple-fold",swot:"compare-swot",wordcloud:"chart-wordcloud",chart:"chart-bar-plain-text",quadrant:"quadrant-quarter-simple-card",relation:"relation-circle-icon-badge"},S=e=>{var t,r;return null!=(r=null==(t=e.match(/^\s*/))?void 0:t[0].length)?r:0},_=e=>{let t=e.findIndex(e=>e.trim().startsWith("data")&&0===S(e));if(t<0)return null;let r=S(e[t]),l=t+1;for(;l<e.length;l++){let t=e[l];if(t.trim()&&S(t)<=r)break}return{start:t,end:l}},E=e=>{let t=e.split("\n"),r=_(t);return r?t.slice(r.start,r.end).join("\n"):""},C=e=>{var t;let r=null!=(t=e.split("\n").map(e=>e.trim()).find(e=>e.length>0))?t:"";return r.startsWith("infographic ")?r.slice(12).trim():r.startsWith("template ")?r.slice(9).trim():""},B=e=>e?"compare-swot"===e?"swot":e.startsWith("hierarchy-")?"hierarchy":e.startsWith("compare-")?"compare":e.startsWith("swot-")?"swot":e.startsWith("chart-wordcloud")?"wordcloud":e.startsWith("chart-")?"chart":e.startsWith("quadrant-")?"quadrant":e.startsWith("relation-")?"relation":e.startsWith("list-column-")?"timeline":"list":null,W=()=>{try{let e=localStorage.getItem(y);if(!e)return{};let t=JSON.parse(e);if(!t||"object"!=typeof t)return{};return t}catch(e){return console.warn("Failed to read live editor category data.",e),{}}},L=(e,t)=>{if(!t.trim())return;let r=W();r[e]=t;try{localStorage.setItem(y,JSON.stringify(r))}catch(e){console.warn("Failed to store live editor category data.",e)}},M=(e,t)=>"chart"===e?(e=>{if(!e.trim())return e;let t=e.split("\n"),r=t.findIndex(e=>"items"===e.trim());if(r<0)return e;let l=S(t[r]),n=l+2,a=0,o=r+1;for(;o<t.length;){let e=t[o],r=e.trim();if(!r){o+=1;continue}let i=S(e);if(i<=l)break;if(i===n&&r.startsWith("-")){let e=o,i=r.startsWith("- value "),s=o+1;for(;s<t.length;s+=1){let e=t[s],r=e.trim();if(!r)continue;let a=S(e);if(a<=l||a===n&&r.startsWith("-"))break;a===n+2&&r.startsWith("value ")&&(i=!0)}if(!i){let r=(a+1)*10;t.splice(e+1,0,"".concat(" ".repeat(n+2),"value ").concat(r)),s+=1}a+=1,o=s;continue}o+=1}return t.join("\n")})((e=>{if(!e.trim())return e;let t=e.split("\n"),r=t.findIndex(e=>"items"===e.trim());if(r<0)return e;let l=S(t[r]),n=l+2,a=n+2,o=r+1;for(;o<t.length;){let e=t[o],r=e.trim();if(!r){o+=1;continue}let i=S(e);if(i<=l)break;if(i===n&&r.startsWith("-")){let e=o+1;for(;e<t.length;){let r=t[e],o=r.trim();if(!o){e+=1;continue}let i=S(r);if(i<=l||i===n&&o.startsWith("-"))break;if(i===a&&o.startsWith("children")){let r=e+1;for(;r<t.length;){let e=t[r];if(!e.trim()){r+=1;continue}if(S(e)<=i)break;r+=1}t.splice(e,r-e);continue}e+=1}o=e;continue}o+=1}return t.join("\n")})(t)):t,I=(e,t)=>{if(!t)return e;let r=e.split("\n"),l=_(r),n=t.split("\n");if(l)r.splice(l.start,l.end-l.start,...n);else{let e=(e=>{let t=0;for(let r=0;r<e.length;r++){let l=e[r].trim();if(l){if(l.startsWith("infographic ")||l.startsWith("template ")){t=r+1;continue}if(l.startsWith("theme "))return r}}return t})(r);r.splice(e,0,...n)}return r.join("\n")},F={"zh-CN":{title:"Syntax 编辑器",editorAria:"Infographic Syntax 编辑器",configTitle:"配置",templateLabel:"模板",themeLabel:"主题",paletteLabel:"配色",resetButton:"重置",shareButton:"分享",clearButton:"清空",searchPlaceholder:"搜索",noResults:"无匹配选项"},"en-US":{title:"Syntax Editor",editorAria:"Infographic Syntax Editor",configTitle:"Config",templateLabel:"Template",themeLabel:"Theme",paletteLabel:"Palette",resetButton:"Reset",shareButton:"Share",clearButton:"Clear",searchPlaceholder:"Search",noResults:"No results"}},T="__unknown_template__",P="__default_theme__",z="__default_palette__",R=[{label:"Sunset",value:"#e76f51 #f4a261 #e9c46a #2a9d8f #264653"},{label:"Deep Sea",value:"#001219 #005f73 #0a9396 #94d2bd #ee9b00 #ca6702 #bb3e03 #ae2012 #9b2226"},{label:"Slate Mint",value:"#0f172a #334155 #38bdf8 #a7f3d0 #fbbf24"}];function A(e){let{value:t,onChange:r,onShare:n,onReset:a}=e,o=(0,s.K)(F),i=(0,d.useMemo)(()=>(0,m.getTemplates)().sort(),[]),c=(0,d.useMemo)(()=>(0,m.getThemes)().sort(),[]),p=(0,d.useMemo)(()=>Object.keys((0,m.getPalettes)()).filter(e=>"antv"!==e).sort(),[]),v=(0,d.useMemo)(()=>[...p,...R.map(e=>e.value)],[p]),y=(0,d.useMemo)(()=>[{value:T,label:"unknown"},...i.map(e=>({value:e,label:e}))],[i]),S=(0,d.useMemo)(()=>[{value:P,label:"default"},...c.map(e=>({value:e,label:e}))],[c]),_=(0,d.useMemo)(()=>[{value:z,label:"default"},...p.map(e=>({value:e,label:e})),...R.map(e=>({value:e.value,label:e.label}))],[p]),[A,O]=(0,d.useState)(""),[G,V]=(0,d.useState)(""),[U,K]=(0,d.useState)("");(0,d.useEffect)(()=>{var e;let r=t.split("\n"),l=(null==(e=r[0])?void 0:e.trim())||"";if(l.startsWith("infographic ")){let e=l.substring(12).trim();e&&i.includes(e)?O(e):O("")}else O("");let n=r.find(e=>e.trim().startsWith("theme "));if(n){let e=n.trim().substring(6).trim();e&&c.includes(e)?V(e):V("")}else V("");let a=(e=>{var t;let r=k(e.split("\n"));return null!=(t=null==r?void 0:r.value)?t:""})(t);a&&v.includes(a)?K(a):K("")},[t,i,c,v]),(0,d.useEffect)(()=>{let e=B(C(t));if(!e)return;let l=E(t);if(!l)return;let n=M(e,l);if(n!==l)return void r(I(t,n));L(e,n)},[t,r]);let q=(0,d.useCallback)(e=>{let t=e.state.doc.toString(),{errors:r,options:l}=(0,m.parseSyntax)(t),n=r.map(t=>{let r=t.line-1,l=e.state.doc.line(Math.max(1,Math.min(r+1,e.state.doc.lines)));return{from:l.from,to:l.to,severity:"error",message:"".concat(t.code,": ").concat(t.message).concat(t.raw?" (".concat(t.raw,")"):"")}});if(l.template&&!i.includes(l.template)){let r=t.split("\n").findIndex(e=>e.trim().startsWith("infographic ")&&e.includes(l.template));if(r>=0){let t=e.state.doc.line(r+1);n.push({from:t.from,to:t.to,severity:"error",message:'unknown_template: Template "'.concat(l.template,'" not found. Available templates can be selected from the dropdown.')})}}return n},[i]);return(0,l.jsxs)("div",{className:"bg-card dark:bg-card-dark rounded-2xl shadow-nav dark:shadow-nav-dark flex flex-col h-full overflow-hidden border border-border dark:border-border-dark",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 px-5 py-4 bg-wash dark:bg-wash-dark border-b border-border dark:border-border-dark",children:[(0,l.jsxs)("h2",{className:"text-base font-semibold text-primary dark:text-primary-dark flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-2 h-2 rounded-full bg-link animate-pulse"}),o.title]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{r("")},title:o.clearButton,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border dark:border-border-dark text-secondary dark:text-secondary-dark bg-white/80 dark:bg-gray-900/60 hover:border-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition","aria-label":o.clearButton,children:(0,l.jsx)(f.g,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:a,title:o.resetButton,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border dark:border-border-dark text-secondary dark:text-secondary-dark bg-white/80 dark:bg-gray-900/60 hover:border-link hover:text-link hover:bg-link/10 dark:hover:border-link-dark dark:hover:text-link-dark transition","aria-label":o.resetButton,children:(0,l.jsx)(b.j,{className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"w-[1px] h-5 bg-border dark:bg-border-dark self-center mx-1"}),(0,l.jsxs)("button",{onClick:n,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white rounded-full bg-gradient-to-r from-link to-link/80 dark:from-link-dark dark:to-link-dark/90 shadow-sm hover:shadow-md transition",children:[(0,l.jsx)(x,{className:"w-4 h-4"}),o.shareButton]})]})]}),(0,l.jsx)("div",{className:"flex-1 relative group overflow-auto",children:(0,l.jsx)(g.B,{ariaLabel:o.editorAria,className:"h-full text-sm",language:"yaml",onChange:r,value:t,linterFn:q})}),(0,l.jsx)("div",{className:"px-5 py-4 bg-wash dark:bg-wash-dark border-t border-border dark:border-border-dark",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"template-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:o.templateLabel}),(0,l.jsx)(h.A,{id:"template-select",value:A||T,onChange:e=>{"string"==typeof e&&(e=>{O(e);let l=B(C(t)),n=B(e),a=((e,t)=>{if(!e.trim())return"infographic ".concat(t);let r=e.split("\n"),l=r.findIndex(e=>{let t=e.trim();return t.startsWith("infographic ")||t.startsWith("template ")});if(l>=0){var n;let e=(null==(n=r[l].match(/^\s*/))?void 0:n[0])||"",a=r[l].trim().startsWith("template ")?"template":"infographic";return r[l]="".concat(e).concat(a," ").concat(t),r.join("\n")}return"infographic ".concat(t,"\n").concat(e)})(t,e);if(n&&l!==n){if(l){let e=M(l,E(t));e&&L(l,e)}let e=(e=>{let t=W()[e];return"string"==typeof t?t:""})(n)||(e=>{if("list"===e)return E(u);let t=N[e],r=j.get(t);return r?E(r):E(u)})(n);a=I(a,M(n,e))}r(a)})(e===T?"":e)},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:o.noResults,options:y})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"theme-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:o.themeLabel}),(0,l.jsx)(h.A,{id:"theme-select",value:G||P,onChange:e=>{"string"==typeof e&&(e=>{V(e);let l=t.split("\n"),n=l.findIndex(e=>e.trim().startsWith("theme"));if(n>=0){var a;let t=(null==(a=l[n].match(/^\s*/))?void 0:a[0])||"";l[n]="".concat(t,"theme ").concat(e)}else{let t=w(l);l.splice(t,0,"theme ".concat(e))}r(l.join("\n"))})(e===P?"":e)},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:o.noResults,options:S})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"palette-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:o.paletteLabel}),(0,l.jsx)(h.A,{id:"palette-select",value:U||z,onChange:e=>{if("string"==typeof e){var l;K(l=e===z?"":e),r(((e,t)=>{let r=e.split("\n"),l=k(r);if(!t)return l&&r.splice(l.lineIndex,l.blockEnd-l.lineIndex),r.join("\n");if(l)return r.splice(l.lineIndex,l.blockEnd-l.lineIndex,"".concat(l.indent,"palette ").concat(t)),r.join("\n");let n=r.findIndex(e=>e.trim().startsWith("theme"));if(n>=0){var a;let e=(null==(a=r[n].match(/^\s*/))?void 0:a[0])||"";return r.splice(n+1,0,"".concat(e,"  palette ").concat(t)),r.join("\n")}let o=w(r);return r.splice(o,0,"theme","  palette ".concat(t)),r.join("\n")})(t,l))}},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:o.noResults,options:_})]})]})})]})}var O=r(6651),G=r(4696),V=r(2909);let U={"zh-CN":{title:"实时预览",copyButton:"复制",pngButton:"PNG",svgButton:"SVG",fullscreenButton:"全屏",exitFullscreenButton:"退出",pngExported:"PNG 已导出",svgExported:"SVG 已导出"},"en-US":{title:"Live Preview",copyButton:"Copy",pngButton:"PNG",svgButton:"SVG",fullscreenButton:"Fullscreen",exitFullscreenButton:"Exit",pngExported:"PNG exported",svgExported:"SVG exported"}};function K(e){let t,r,a,o,i,c,u,m,h,p,f,x,b,g,v,k,w,y,j,N,S,_,E,C,B,W,L,M,I,F,T,P,z,R,A,K,Z,D,J,X,Y,Q,$=(0,n.c)(90),{syntax:ee,onError:et,error:er,onCopySuccess:el,onExportSuccess:en}=e,ea=(0,s.K)(U),[eo,ei]=(0,d.useState)(ee),[es,ec]=(0,d.useState)(!1),[ed,eu]=(0,d.useState)(1),em=(0,d.useRef)(0),eh=(0,d.useRef)(null),ep=(0,d.useRef)(null);$[0]!==ee?(t=()=>(em.current&&clearTimeout(em.current),em.current=window.setTimeout(()=>{ei(ee)},300),()=>{em.current&&clearTimeout(em.current)}),r=[ee],$[0]=ee,$[1]=t,$[2]=r):(t=$[1],r=$[2]),(0,d.useEffect)(t,r),$[3]!==et?(a=e=>{et(e?e.message:null)},$[3]=et,$[4]=a):a=$[4];let ef=a;$[5]!==el?(o=async()=>{var e;await (null==(e=eh.current)?void 0:e.copyToClipboard())&&el()},$[5]=el,$[6]=o):o=$[6];let ex=o;$[7]!==en||$[8]!==ea.pngExported?(i=async()=>{var e;await (null==(e=eh.current)?void 0:e.exportPNG()),en(ea.pngExported)},$[7]=en,$[8]=ea.pngExported,$[9]=i):i=$[9];let eb=i;$[10]!==en||$[11]!==ea.svgExported?(c=async()=>{var e;await (null==(e=eh.current)?void 0:e.exportSVG()),en(ea.svgExported)},$[10]=en,$[11]=ea.svgExported,$[12]=c):c=$[12];let eg=c;$[13]!==es?(u=()=>{let e=!es;ec(e),e?window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!0}})):window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}}))},$[13]=es,$[14]=u):u=$[14];let ev=u;$[15]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{eu(H)},$[15]=m):m=$[15];let ek=m;$[16]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{eu(q)},$[16]=h):h=$[16];let ew=h;$[17]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{eu(1)},$[17]=p):p=$[17];let ey=p;$[18]!==es?(f=()=>{let e=e=>{"Escape"===e.key&&es&&(ec(!1),window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}})))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},x=[es],$[18]=es,$[19]=f,$[20]=x):(f=$[19],x=$[20]),(0,d.useEffect)(f,x),$[21]!==es?(b=()=>()=>{es&&window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}}))},g=[es],$[21]=es,$[22]=b,$[23]=g):(b=$[22],g=$[23]),(0,d.useEffect)(b,g),$[24]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{let e=ep.current;if(!e)return;let t=e=>{if(e.metaKey||e.ctrlKey){e.preventDefault();let t=-.1*Math.sign(e.deltaY);eu(e=>Math.min(Math.max(e+t,.5),2))}};return e.addEventListener("wheel",t,{passive:!1}),()=>e.removeEventListener("wheel",t)},k=[],$[24]=v,$[25]=k):(v=$[24],k=$[25]),(0,d.useEffect)(v,k);let ej="bg-card dark:bg-card-dark rounded-2xl shadow-nav dark:shadow-nav-dark flex flex-col h-full overflow-hidden border border-border dark:border-border-dark transition-all duration-300 ".concat(es?"fixed inset-0 z-[1000] rounded-none":""),eN="w-2 h-2 rounded-full ".concat(er?"bg-red-500":"bg-green-500");$[26]!==eN?(w=(0,l.jsx)("span",{className:eN}),$[26]=eN,$[27]=w):w=$[27],$[28]!==w||$[29]!==ea.title?(y=(0,l.jsxs)("h2",{className:"text-base font-semibold text-primary dark:text-primary-dark flex items-center gap-2",children:[w,ea.title]}),$[28]=w,$[29]=ea.title,$[30]=y):y=$[30],$[31]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsx)(O.b,{className:"w-4 h-4"}),$[31]=j):j=$[31],$[32]!==ea.copyButton?(N=(0,l.jsx)("span",{className:"hidden sm:inline",children:ea.copyButton}),$[32]=ea.copyButton,$[33]=N):N=$[33],$[34]!==ex||$[35]!==N||$[36]!==ea.copyButton?(S=(0,l.jsxs)("button",{onClick:ex,title:ea.copyButton,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-secondary hover:text-link hover:bg-link/10 rounded-md transition-all","aria-label":ea.copyButton,children:[j,N]}),$[34]=ex,$[35]=N,$[36]=ea.copyButton,$[37]=S):S=$[37],$[38]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)("div",{className:"w-[1px] h-4 bg-border dark:bg-border-dark self-center mx-1"}),$[38]=_):_=$[38],$[39]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)(G.i,{className:"w-3.5 h-3.5"}),$[39]=E):E=$[39],$[40]!==eb||$[41]!==ea.pngButton?(C=(0,l.jsxs)("button",{onClick:eb,className:"flex items-center gap-1 px-2 py-1.5 text-xs font-bold text-white bg-pink-500 hover:bg-pink-600 rounded transition-all","aria-label":ea.pngButton,children:[E,ea.pngButton]}),$[40]=eb,$[41]=ea.pngButton,$[42]=C):C=$[42],$[43]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsx)(G.i,{className:"w-3.5 h-3.5"}),$[43]=B):B=$[43],$[44]!==eg||$[45]!==ea.svgButton?(W=(0,l.jsxs)("button",{onClick:eg,className:"flex items-center gap-1 px-2 py-1.5 text-xs font-bold text-white bg-indigo-500 hover:bg-indigo-600 rounded transition-all","aria-label":ea.svgButton,children:[B,ea.svgButton]}),$[44]=eg,$[45]=ea.svgButton,$[46]=W):W=$[46],$[47]!==S||$[48]!==C||$[49]!==W?(L=(0,l.jsxs)("div",{className:"flex gap-2",children:[S,_,C,W]}),$[47]=S,$[48]=C,$[49]=W,$[50]=L):L=$[50],$[51]!==y||$[52]!==L?(M=(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-wash dark:bg-wash-dark border-b border-border dark:border-border-dark",children:[y,L]}),$[51]=y,$[52]=L,$[53]=M):M=$[53],$[54]!==er?(I=er&&(0,l.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-10 p-3 bg-red-50/90 dark:bg-red-900/40 backdrop-blur-sm border border-red-200 dark:border-red-800 rounded-lg text-red-800 dark:text-red-200 text-sm shadow-lg",children:[(0,l.jsxs)("div",{className:"font-bold mb-1 flex items-center gap-1.5",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Error"]}),er]}),$[54]=er,$[55]=I):I=$[55],$[56]===Symbol.for("react.memo_cache_sentinel")?(F=(0,l.jsx)("button",{onClick:ew,title:"Zoom Out",className:"p-1.5 text-secondary hover:text-link hover:bg-link/10 rounded transition-all","aria-label":"Zoom Out",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),$[56]=F):F=$[56],$[57]!==ed?(T=Math.round(100*ed),$[57]=ed,$[58]=T):T=$[58],$[59]!==T?(P=(0,l.jsxs)("button",{onClick:ey,title:"Reset Zoom",className:"px-2 py-1 text-xs font-mono font-medium text-secondary hover:text-link hover:bg-link/10 rounded transition-all min-w-[3rem] text-center",children:[T,"%"]}),$[59]=T,$[60]=P):P=$[60],$[61]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)("button",{onClick:ek,title:"Zoom In",className:"p-1.5 text-secondary hover:text-link hover:bg-link/10 rounded transition-all","aria-label":"Zoom In",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),R=(0,l.jsx)("div",{className:"w-[1px] h-5 bg-border dark:bg-border-dark"}),$[61]=z,$[62]=R):(z=$[61],R=$[62]);let eS=es?ea.exitFullscreenButton:ea.fullscreenButton,e_=es?ea.exitFullscreenButton:ea.fullscreenButton;$[63]!==es?(A=es?(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zM9 9l6 6m0-6-6 6"})}):(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),$[63]=es,$[64]=A):A=$[64],$[65]!==ev||$[66]!==eS||$[67]!==e_||$[68]!==A?(K=(0,l.jsx)("button",{onClick:ev,title:eS,className:"p-1.5 text-secondary hover:text-link hover:bg-link/10 rounded transition-all","aria-label":e_,children:A}),$[65]=ev,$[66]=eS,$[67]=e_,$[68]=A,$[69]=K):K=$[69],$[70]!==P||$[71]!==K?(Z=(0,l.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex items-center gap-2 px-3 py-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-border dark:border-border-dark rounded-lg shadow-lg",children:[F,P,z,R,K]}),$[70]=P,$[71]=K,$[72]=Z):Z=$[72];let eE="w-full h-full p-8 ".concat(1===ed?"overflow-auto":"overflow-hidden"),eC="scale(".concat(ed,")");return $[73]!==eC?(D={transform:eC,transformOrigin:"center",transition:"transform 0.2s ease"},$[73]=eC,$[74]=D):D=$[74],$[75]!==eo||$[76]!==ef||$[77]!==D?(J=(0,l.jsx)(V.v,{ref:eh,options:eo,onError:ef,enableEditor:!0,className:"w-full h-full flex items-center justify-center",style:D}),$[75]=eo,$[76]=ef,$[77]=D,$[78]=J):J=$[78],$[79]!==eE||$[80]!==J?(X=(0,l.jsx)("div",{className:eE,children:J}),$[79]=eE,$[80]=J,$[81]=X):X=$[81],$[82]!==I||$[83]!==Z||$[84]!==X?(Y=(0,l.jsxs)("div",{className:"flex-1 relative bg-white dark:bg-gray-900 overflow-hidden flex items-center justify-center",children:[I,Z,X]}),$[82]=I,$[83]=Z,$[84]=X,$[85]=Y):Y=$[85],$[86]!==ej||$[87]!==M||$[88]!==Y?(Q=(0,l.jsxs)("div",{ref:ep,className:ej,children:[M,Y]}),$[86]=ej,$[87]=M,$[88]=Y,$[89]=Q):Q=$[89],Q}function q(e){return Math.max(e-.1,.5)}function H(e){return Math.min(e+.1,2)}var Z=r(278);function D(e){let t=function(e){try{let t=Z.Ay.deflate(e,{level:9}),r="";for(let e=0;e<t.length;e+=8192){let l=t.subarray(e,e+8192);r+=String.fromCharCode.apply(null,l)}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){return console.error("Compression error:",e),""}}(e);if(!t)return"";let r=new URL(window.location.href);return r.searchParams.set("content","pako:".concat(t)),r.toString()}let J="live-editor-syntax",X={"zh-CN":{title:"Live Editor",description:"编辑 AntV Infographic Syntax 并查看实时预览",resetButton:"重置为默认",shareButton:"分享",imageCopied:"图片已复制到剪贴板",linkCopied:"分享链接已复制到剪贴板",shareFailed:"生成分享链接失败"},"en-US":{title:"Live Editor",description:"Edit AntV Infographic Syntax and see real-time preview",resetButton:"Reset to Default",shareButton:"Share",imageCopied:"Image copied to clipboard",linkCopied:"Share link copied to clipboard",shareFailed:"Failed to generate share link"}};function Y(){let e,t,r,a,m,h,p,f,x,b,g,v,k,w,y,j,N,S,_,E,C,B,W=(0,n.c)(50),L=(0,c.useRouter)(),[M,I]=(0,d.useState)(u),[F,T]=(0,d.useState)(null),[P,z]=(0,d.useState)(!1),{message:R,show:O}=(0,o.i)(2500),G=(0,s.K)(X);W[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{z(!0);let e=function(){let e=new URLSearchParams(window.location.search).get("content");return e?e.startsWith("pako:")?function(e){try{let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t+"==".slice(0,(4-t.length%4)%4),l=atob(r),n=new Uint8Array(l.length);for(let e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return Z.Ay.inflate(n,{to:"string"})}catch(e){return console.error("Decompression error:",e),""}}(e.slice(5)):decodeURIComponent(e):null}();if(e)return void I(e);let t=localStorage.getItem(J);t&&I(t)},t=[],W[0]=e,W[1]=t):(e=W[0],t=W[1]),(0,d.useEffect)(e,t),W[2]!==P||W[3]!==M?(r=()=>{P&&localStorage.setItem(J,M)},a=[M,P],W[2]=P,W[3]=M,W[4]=r,W[5]=a):(r=W[4],a=W[5]),(0,d.useEffect)(r,a),W[6]!==P||W[7]!==M?(m=()=>{if(!P||!window.location.search.includes("content="))return;let e=setTimeout(()=>{let e=D(M);e&&window.history.replaceState(null,"",e)},300);return()=>clearTimeout(e)},h=[M,P],W[6]=P,W[7]=M,W[8]=m,W[9]=h):(m=W[8],h=W[9]),(0,d.useEffect)(m,h),W[10]!==L?(p=()=>{I(u),localStorage.removeItem(J),L.replace("/editor",void 0,{shallow:!0})},W[10]=L,W[11]=p):p=W[11];let V=p;W[12]!==O||W[13]!==M||W[14]!==G.linkCopied||W[15]!==G.shareFailed?(f=async()=>{let e=D(M);if(!e)return void O(G.shareFailed);try{await navigator.clipboard.writeText(e),O(G.linkCopied),window.history.replaceState(null,"",e)}catch(e){console.error("Failed to copy share link:",e),O(G.shareFailed)}},W[12]=O,W[13]=M,W[14]=G.linkCopied,W[15]=G.shareFailed,W[16]=f):f=W[16];let U=f;return W[17]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)("div",{className:"pointer-events-none absolute -left-32 -top-40 h-96 w-96 rounded-full bg-gradient-to-br from-link/20 via-link/5 to-transparent blur-3xl"}),b=(0,l.jsx)("div",{className:"pointer-events-none absolute -right-32 top-20 h-96 w-96 rounded-full bg-gradient-to-br from-purple-40/15 via-transparent to-link/5 blur-3xl"}),W[17]=x,W[18]=b):(x=W[17],b=W[18]),W[19]===Symbol.for("react.memo_cache_sentinel")?(g={opacity:0,y:20},v={opacity:1,y:0},k={duration:.6},W[19]=g,W[20]=v,W[21]=k):(g=W[19],v=W[20],k=W[21]),W[22]!==G.title?(w=(0,l.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-bold leading-tight mb-4 text-primary dark:text-primary-dark",children:G.title}),W[22]=G.title,W[23]=w):w=W[23],W[24]!==G.description?(y=(0,l.jsx)("p",{className:"text-base lg:text-lg text-secondary dark:text-secondary-dark leading-relaxed",children:G.description}),W[24]=G.description,W[25]=y):y=W[25],W[26]!==w||W[27]!==y?(j=(0,l.jsx)(i.P.header,{id:"editor-hero-anchor",className:"pt-16 pb-8 px-5 sm:px-12 max-w-7xl mx-auto text-center md:text-left relative z-10",children:(0,l.jsxs)(i.P.div,{initial:g,animate:v,transition:k,children:[w,y]})}),W[26]=w,W[27]=y,W[28]=j):j=W[28],W[29]!==V||W[30]!==U||W[31]!==M?(N=(0,l.jsx)(A,{value:M,onChange:I,onShare:U,onReset:V}),W[29]=V,W[30]=U,W[31]=M,W[32]=N):N=W[32],W[33]!==O||W[34]!==G.imageCopied?(S=()=>O(G.imageCopied),W[33]=O,W[34]=G.imageCopied,W[35]=S):S=W[35],W[36]!==F||W[37]!==O||W[38]!==M||W[39]!==S?(_=(0,l.jsx)(K,{syntax:M,onError:T,error:F,onCopySuccess:S,onExportSuccess:O}),W[36]=F,W[37]=O,W[38]=M,W[39]=S,W[40]=_):_=W[40],W[41]!==N||W[42]!==_?(E=(0,l.jsx)("div",{className:"px-5 sm:px-12 pb-10 max-w-[100rem] mx-auto relative z-10 h-[calc(100vh-220px)] min-h-[700px]",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[N,_]})}),W[41]=N,W[42]=_,W[43]=E):E=W[43],W[44]!==R?(C=(0,l.jsx)(o.z,{message:R}),W[44]=R,W[45]=C):C=W[45],W[46]!==j||W[47]!==E||W[48]!==C?(B=(0,l.jsxs)("div",{className:"relative isolate overflow-hidden min-h-screen bg-wash dark:bg-gradient-to-b dark:from-gray-95 dark:via-gray-95 dark:to-gray-90 text-primary dark:text-primary-dark selection:bg-link/20 selection:dark:bg-link-dark/20",children:[x,b,j,E,C]}),W[46]=j,W[47]=E,W[48]=C,W[49]=B):B=W[49],B}let Q={"zh-CN":{title:"编辑器"},"en-US":{title:"Live Editor"}};function $(){let e,t,r,o,i,c,d,u=(0,n.c)(10),m=(0,s.K)(Q);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],u[0]=e):e=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(t=[],u[1]=t):t=u[1],u[2]!==m.title?(r={title:m.title,path:"/editor",routes:t},o={titleForTitleTag:m.title},u[2]=m.title,u[3]=r,u[4]=o):(r=u[3],o=u[4]),u[5]===Symbol.for("react.memo_cache_sentinel")?(i={hideBrandWhenHeroVisible:!0,overlayOnHome:!0,heroAnchorId:"editor-hero-anchor"},u[5]=i):i=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(Y,{}),u[6]=c):c=u[6],u[7]!==r||u[8]!==o?(d=(0,l.jsx)(a.Y,{toc:e,routeTree:r,meta:o,topNavOptions:i,showTitle:!1,showSidebar:!1,section:"editor",children:c}),u[7]=r,u[8]=o,u[9]=d):d=u[9],d}},6805:(e,t,r)=>{"use strict";r.d(t,{i:()=>d,z:()=>u});var l=r(7876),n=r(7964),a=r(5039),o=r.n(a),i=r(5922),s=r(5784),c=r(4232);function d(e){let t,r,l,a,o,i=(0,n.c)(8),s=void 0===e?1500:e,[d,u]=(0,c.useState)(null),m=(0,c.useRef)(null);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{m.current&&(clearTimeout(m.current),m.current=null),u(null)},i[0]=t):t=i[0];let h=t;i[1]!==s?(r=e=>{m.current&&clearTimeout(m.current),u(e),m.current=setTimeout(()=>u(null),s)},i[1]=s,i[2]=r):r=i[2];let p=r;return i[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>()=>{m.current&&clearTimeout(m.current)},a=[],i[3]=l,i[4]=a):(l=i[3],a=i[4]),(0,c.useEffect)(l,a),i[5]!==d||i[6]!==p?(o={message:d,show:p,clear:h},i[5]=d,i[6]=p,i[7]=o):o=i[7],o}function u(e){let t,r,a=(0,n.c)(5),{message:c,className:d}=e;return a[0]!==d||a[1]!==c?(t=c?(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25},className:o()("fixed bottom-8 right-8 z-[2000] rounded-full bg-link dark:bg-link-dark text-white px-5 py-2.5 shadow-lg font-medium text-sm",d),children:["✓ ",c]}):null,a[0]=d,a[1]=c,a[2]=t):t=a[2],a[3]!==t?(r=(0,l.jsx)(s.N,{children:t}),a[3]=t,a[4]=r):r=a[4],r}},8966:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return r(3916)}])}},e=>{e.O(0,[451],()=>{e.E(120),e.E(892)},5),e.O(0,[212,155,490,241,35,765,593,255,792],()=>e(e.s=8966)),_N_E=e.O()}]);